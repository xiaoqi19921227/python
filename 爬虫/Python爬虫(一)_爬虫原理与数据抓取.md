>本篇将开始介绍Python原理，更多内容请参考：[Python学习指南]()  

### 为什么要做爬虫
著名的革命家、思想家、政治家、战略家、社会改革的主要领导人物马云曾经在2015年提到由IT转到DT，何谓DT，DT即数据技术，由数据在推倒人们的衣食住行，当今时代是一个`大数据时代`，数据从何而来？  

+ `企业产生的用户数据`：[百度指数](http://index.baidu.com/)、[阿里指数](https://alizs.taobao.com/)、[TBI腾讯浏览指数](http://tbi.tencent.com/)、[新浪微博指数](http://data.weibo.com/index)  
+ `数据平台购买数据`：[数据堂](http://www.datatang.com/about/about-us.html)、[国云数据市场](http://www.moojnn.com/data-market/)、[贵阳大数据交易所](http://trade.gbdex.com/trade.web/index.jsp)  

+ `政府机构公开的数据`：[中华人民共和国国家统计局数据](http://data.stats.gov.cn/index.htm)、[世界银行公开数据](http://data.worldbank.org.cn/)、[联合国数据](http://data.un.org/)、[纳斯达克](http://www.nasdaq.com/zh)  

+ `数据管理咨询公司`：[麦肯锡](http://www.mckinsey.com.cn/)、[埃森哲](https://www.accenture.com/cn-zh/)、[艾瑞咨询](http://www.iresearch.com.cn/)  
+ `爬取网络数据`：如果需要的数据市场上没有，或者不愿意购买，那么就可以招/做一名爬虫工程师，自己动手丰衣足食。[拉勾网Python爬虫职位](https://www.lagou.com/jobs/list_python%E7%88%AC%E8%99%AB)  

### 爬虫是什么？  
百度百科：[网络爬虫](http://baike.baidu.com/link?url=3SeA6RcStie6o9T5XGMTBoHK-BGiO_0IqtnI4IkVjDBsoKrJL0aotjA4cjqbx8wF)

**关于Python爬虫，我们需要学习的有：**
1. Python基础语法学习(基础知识)  
2. HTML页面的内容抓取(数据抓取)  
3. HTML页面的数据提取(数据清洗)  
4. Scrapy框架以及scrapy-redis分布式策略(第三方框架)  
5. 爬虫(Spider)、反爬虫(Anti-Spider)、反反爬虫(Anti-Anti-Spider)之间的斗争。。。。

### 通用爬虫和聚焦爬虫  
>网络爬虫可分为**通用爬虫**和**聚焦爬虫**两种。

**通用搜索引擎(Search Enging)工作原理**

**通用网络爬虫** 从互联网中搜集网页，采集信息，这些网页信息用于为搜索引擎建立索引从而提供支持，它决定着整个引擎系统的内容是否丰富，信息是否及时，因此其性能的优劣直接影响着搜索引擎的效果。  

#### 第一步：抓取网页
搜索引擎网络爬虫的基本工作流程如下：  
1. 首先选取一部分的种子URL，将这些URL放入待抓取URL队列；  
2. 取出待抓取URL，解析DNS得到主机的IP，并将URL对应的网页下载下来，存储进已下载网页库中，并且将这些URL放进已抓取URL队列。  
3. 分析已抓取URL队列中的URL，分析其中的其它URL，并且将URL放入待抓取URL队列，从而进入下一个循环。。。
![通用爬虫流程](http://oyl9rg5dr.bkt.clouddn.com/image/python%E7%88%AC%E8%99%AB_%E9%80%9A%E7%94%A8%E7%88%AC%E8%99%AB%E6%B5%81%E7%A8%8B.png)  
 
**搜索引擎如何获取一个新网站的URL：**  

1. 新网站向搜索引擎主动提交网址：(百度：http://zhanzhang.baidu.com/linksubmit/url)  
2. 在其他网站上设置一个新网站链接(尽可能处于搜索引擎爬虫爬取范围)  
3. 搜索引擎和DNS解析服务商(如DNSPod等)合作，新网站域名将被迅速抓取  

但是搜索引擎蜘蛛的爬行是被输入了一定的规则的，它需要遵从一些命令或文件的内容，如标注为`nofollow`的链接，或者是Robots协议。  

>Robots协议(也叫爬虫协议、机器人协议等)，全称是“网络爬虫排除标准”(Robots Exclusion Protocol)，网站通过Robots协议告诉搜索引擎哪些页面可以抓取，哪些页面不能抓取，例如：
> 1. 淘宝网：[https://www.taobao.com/robots.txt](https://www.taobao.com/robots.txt)  
> 2. 腾讯网：[http://www.qq.com/robots.txt](http://www.qq.com/robots.txt)  


#### 第二步：数据存储
搜索引擎通过爬虫爬取到网页，将数据存入原始页面数据库。其中的页面数据与用户浏览器得到的HTML是完全一样的。  

搜索引擎蜘蛛在抓取页面时，也做一定的重复内容检测，一旦遇到访问权重很低的网站上有大量抄袭、采集或者复制的内容，很可能就不再爬行。  

#### 第三步：预处理
搜索引擎将爬虫抓取回来的页面，进行各种步骤的预处理。  

+ 提取文字
+ 中文分词
+ 消除噪音(比如版权申明文字、导航条、广告等...)
+ 索引处理
+ 链接关系计算
+ 特殊文件处理
+ ....

除了HTML文件外，搜索引擎还能抓取和索引以文字为基础的多种文件类型，如PDF、WORD、WPS、PPT、TXT等。我们在搜索结果中也经常会看到这种文件类型。  

但搜索引擎还不能处理图片、视频、Flash这类非文字内容，也不能执行脚本和程序。  

#### 第四步：提供检索服务，网站排名
搜索引擎在对信息进行组织和处理后，为用户提供关键字检索服务，将用户检索相关的信息展示给用户。  

同时会根据页面的PageRank值（链接的访问量排名）来进行网站排名，这样Rank值高的网站在搜索结果中会排名较前，当然也可以直接使用 Money 购买搜索引擎网站排名，简单粗暴。
![搜索引擎工作原理](http://oyl9rg5dr.bkt.clouddn.com/image/%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86.png)  

`但是，这些通用搜索引擎也存在着一定的局限性`：  

1. 通用搜索引擎所返回的结果都是网页，而大多情况下，网页里90%的内容对用户来说都是无用的。  
2. 不同领域、不同背景的用户往往具有不同的检索目的和需求，搜索引擎无法提供针对具体某个用户的搜索结果。  
3. 万维网数据形式的丰富和网络技术的不断发展，图片、数据库、音频、视频多媒体等不同数据大量出现，通用搜索引擎对这些文件无能为力，不能很好地发现和获取。  
4. 通用搜索引擎大多提供基于关键字的检索，难以支持根据语义信息提出的查询，无法准确理解用户的具体需求。  

**针对这些情况，聚焦爬虫技术得以广泛使用**  

###聚焦爬虫  
聚焦爬虫，是"面向特定主题需求"的一种网络爬虫程序，它与通用搜索引擎爬虫的区别在于： *聚焦爬虫在实施网页抓取时会对内容进行处理筛选，尽量保证只抓取与需求相关的网页信息。*